<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="css/home.css" />

    <title>USC CS310 Stock Portfolio Management</title>

    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  </head>
  <body>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/data.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>

    <div id="container" style="height: 400px; min-width: 310px"></div>

    <script>
      var json = [
        [1147651200000, 376.2],
        [1147737600000, 371.3],
        [1147824000000, 374.5],
        [1147910400000, 370.99],
        [1147996800000, 370.02],
        [1148256000000, 370.95],
        [1148342400000, 375.58],
        [1148428800000, 381.25],
        [1148515200000, 382.99],
      ];
      console.log(json);
      var seriesOptions = [],
        seriesCounter = 0,
        names = ["MSFT", "AAPL", "GOOG"];

      /**
       * Create the chart when all data is loaded
       * @returns {undefined}
       */
      function createChart() {
        Highcharts.stockChart("container", {
          rangeSelector: {
            selected: 1,
          },

          title: {
            text: "AAPL Stock Price",
          },

          series: [
            {
              name: "AAPL",
              data: json,
              tooltip: {
                valueDecimals: 2,
              },
            },
          ],
        });
      }

      createChart();

      // function success(data) {
      //   var name = this.url.match(/(msft|aapl|goog)/)[0].toUpperCase();
      //   var i = names.indexOf(name);
      //   seriesOptions[i] = {
      //     name: name,
      //     data: data,
      //   };

      //   // As we're loading the data asynchronously, we don't know what order it
      //   // will arrive. So we keep a counter and create the chart when all the data is loaded.
      //   seriesCounter += 1;

      //   if (seriesCounter === names.length) {
      //     createChart();
      //   }
      // }

      // Highcharts.getJSON(
      //   "https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/msft-c.json",
      //   success
      // );
      // Highcharts.getJSON(
      //   "https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/aapl-c.json",
      //   success
      // );
      // Highcharts.getJSON(
      //   "https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/goog-c.json",
      //   success
      // );
    </script>
  </body>
</html>
